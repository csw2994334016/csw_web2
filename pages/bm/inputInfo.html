---
layout: base_page
---
<div class="container" style="width: 100%;">
    <div id="toolbar">
        <button id="add" type="button" class="btn btn-default" data-toggle="modal">
            <i class="glyphicon glyphicon-plus"></i> 添加
        </button>
        <button id="delete" type="button" class="btn btn-default">
            <i class="glyphicon glyphicon-trash"></i> 删除
        </button>
        <button id="edit" type="button" class="btn btn-default">
            <i class="glyphicon glyphicon-edit"></i> 编辑
        </button>
    </div>
</div>

<div id="addModal" class="modal fade" tabindex="-1" role="dialog" data-target=".bs-example-modal-lg">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title">入库单添加</h4>
            </div>
            <div class="modal-body">
                <table class="table table-bordered">
                    <tr>
                        <td style="text-align: right">采购部门</td>
                        <td><input class="text"></td>
                        <td style="text-align: right">采购人</td>
                        <td><input class="text"></td>
                        <td style="text-align: right">验收人</td>
                        <td colspan="3"><input class="text"></td>
                    </tr>
                    <tr>
                        <td style="text-align: right">物料名称</td>
                        <td><select id="sex" name="sex" class="selectpicker form-control" placeholder="请选择性别"
                                    data-live-search="true">
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                        </select>
                        </td>
                        <td style="text-align: right">数量</td>
                        <td><input class="text-gray"></td>
                        <td style="text-align: right">位置</td>
                        <td><input class="text-gray"></td>
                        <td style="text-align: right">供应商</td>
                        <td><select class="selectpicker form-control" placeholder="请选择供应商" data-live-search="true">
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>

                        </select>
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: right">单位</td>
                        <td><select class="selectpicker form-control" placeholder="请选择单位" data-live-search="true">
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>

                        </select>
                        </td>
                        <td style="text-align: right">单价</td>
                        <td><input class="text-gray"></td>
                        <td style="text-align: right">总价</td>
                        <td><input class="text-gray"></td>
                        <td style="text-align: right">备注</td>
                        <td><input class="text-gray"></td>
                    </tr>
                    <tr>
                        <td colspan="4" style="text-align: right">
                            <button id="addToInfoTable" type="button" class="btn btn-success">添加</button>
                        </td>
                        <td colspan="4" style="text-align: left">
                            <button type="button" class="btn btn-warning">重置</button>
                        </td>
                    </tr>
                </table>
                <table id="infoTable" class="table">
                    <thead>
                    <tr>
                        <th data-field="name">物料名称</th>
                        <!--<td>规格/品牌/型号</td>-->
                        <!--<td>单位</td>-->
                        <!--<td>单价</td>-->
                        <!--<td>数量</td>-->
                        <!--<td>价格合计</td>-->
                        <!--<td>采购部门</td>-->
                        <!--<td>采购人</td>-->
                        <!--<td>验收人员</td>-->
                        <!--<td>供货商名称</td>-->
                        <!--<td>备注</td>-->
                    </tr>
                    <tr>
                        <td>11</td>
                    </tr>
                    </thead>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>

{% include base/table/table.html %}

<script type="text/javascript">
    // var Table = {
    //     apiUrl: '{{ site.apiAddress }}' + '/api/basic/banJis',
    //     tableId: "myTable",
    //     toolbarId: "toolbar",
    //     bsTable: null,
    //     bsModal: null
    // };
    // Table.initColumn = function () {
    //     var columns = [
    //         {field: 'state', radio: true, align: 'center', valign: 'middle'},
    //         {title: 'ID', field: 'id', align: 'center', visible: false},
    //         {title: '入库单号', field: 'inputNo', align: 'center', sortable: true},
    //         {title: '采购部门', field: 'purchaseDep', align: 'center'},
    //         {title: '采购人', field: 'purcaser', align: 'center', formatter: BSTable.prototype.stateFormatter},
    //         {title: '日期', field: 'inputDate', align: 'center'},
    //         {title: '备注', field: 'remark', align: 'center'}
    //     ];
    //     return columns;
    // };

    //执行方法
    $(function () {

        //初始化添加模态框方法
        // var fields = ['id', 'inputNo', 'purchaseDep', 'purcaser','inputDate',  'remark'];
        // var bsModal = new BSModal(Table.apiUrl);
        // bsModal.setFields(fields);
        // Table.bsModal = bsModal.init();
        //
        // //初始化表格
        // var bsTable = new BSTable(Table.tableId, Table.toolbarId, Table.apiUrl, Table.initColumn());
        // Table.bsTable = bsTable.init(); //返回的是BSTable对象
        //
        //
        // bsTable.bindEvents(bsModal, bsTable);
        // bsModal.bindEvents(bsModal, bsTable);

        //工具条后续的方法。。。

        //'添加'按钮操作
        $("#add").click(function () {
            $("#addModal").modal('show');
        });

        //'删除'按钮操作
        $("#delete").click(function () {

        });

        //'编辑'按钮操作
        $("#edit").click(function () {
            $('#myModal').modal('show');
        });

        $("#addToInfoTable").click(function () {
            var data = {"name": "djhfkj"};
            console.log(data);
            $("#infoTable").bootstrapTable();
            $("#infoTable").bootstrapTable('append', data);
        })
    });

</script>
